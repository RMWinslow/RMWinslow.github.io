

<textarea rows="20" cols="60" id="content">
Salt
Pepper
Diced [herb]

{herb}
oregano
basil
parsely</textarea>

<br>
<button onclick="getDetails()">Codify Me</button> 

<p id="demo">
</p>

<h2>Step 1:</h2>

Place the following block of code at the top of your pages body. (In blogger, you can switch to the HTML tab while composing a post and just plop it in.)

<pre>
<script>
function parse_list(inputText) {
 var listMap = {'main':[]};
    var activeList = 'main';
    var lines = inputText.split('\n');
    for(var i = 0; i < lines.length ; i++){
  var line = lines[i];
        if (line == '') {
         continue;
            }
        else if (line.charAt(0)=='{' && line.charAt(line.length-1)=='}') {
         line = line.replace('{','');
            line = line.replace('}','');
            listMap[line] = [];
            activeList = line;
            }
        else {
         listMap[activeList].push(line);
            }
     }
    return listMap
    }

function r(items){
 var item = items[Math.floor(Math.random()*items.length)];
    return item;
 }
    
function draw_item(itemMap){
 var output = r(itemMap['main']);
    keys = Object.keys(itemMap);
    var reps = 0;
    while (reps < 20){
        for(var i = 0; i < keys.length ; i++){
      output = output.replace('['+keys[i]+']', r(itemMap[keys[i]]));
         }
        reps ++;
    }
    return output;
}
</script>
</pre>

<script>
function parse_list(inputText) {
 var listMap = {'main':[]};
    var activeList = 'main';
    var lines = inputText.split('\n');
    for(var i = 0; i < lines.length ; i++){
  var line = lines[i];
        if (line == '') {
         continue;
            }
        else if (line.charAt(0)=='{' && line.charAt(line.length-1)=='}') {
         line = line.replace('{','');
            line = line.replace('}','');
            listMap[line] = [];
            activeList = line;
            }
        else {
         listMap[activeList].push(line);
            }
     }
    return listMap
    }

function r(items){
 var item = items[Math.floor(Math.random()*items.length)];
    return item;
 }
    
function draw_item(itemMap){
 var output = r(itemMap['main']);
    keys = Object.keys(itemMap);
    var reps = 0;
    while (reps < 20){
        for(var i = 0; i < keys.length ; i++){
      output = output.replace('['+keys[i]+']', r(itemMap[keys[i]]));
         }
        reps ++;
    }
    return output;
}
    
function getDetails() {
    var mapping = parse_list(document.getElementById("content").value);
    var output = draw_item(mapping);
    document.getElementById("demo").innerHTML = output;
}
</script>


