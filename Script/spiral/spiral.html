<!DOCTYPE html>
<html>
<style>
    input[type=number]{width: 47px;} 
    table{  border-spacing: 0px;}
    td{padding: 3px;}
</style>
<body>

<form action="">
    Width:     <input type="number" name="width"  min="1" step="1" value="10"> &nbsp; 
    Height:   <input type="number" name="height" min="1" step="1" value="10"> &nbsp; 
    <input type="button" name="genButton" Value="Submit" onClick="submit_form(this.form)">
</form><br>

<table id="spiralTable"></table>

<script>

function find_cell_value(x,y,w,h){
    return (x- Math.min(x,y,w-1-x,h-1-y))+(y- Math.min(x,y,w-1-x,h-1-y))+2*((w-1-2* Math.min(x,y,w-1-x,h-1-y))+(h-1-2* Math.min(x,y,w-1-x,h-1-y))-(x- Math.min(x,y,w-1-x,h-1-y))-(y- Math.min(x,y,w-1-x,h-1-y)))*Math.ceil( Math.min(y- Math.min(x,y,w-1-x,h-1-y),w-1-2* Math.min(x,y,w-1-x,h-1-y)-(x- Math.min(x,y,w-1-x,h-1-y)))/(w-2* Math.min(x,y,w-1-x,h-1-y)+h-2* Math.min(x,y,w-1-x,h-1-y)))-2*Math.min(x,y,w-1-x,h-1-y)*(2*Math.min(x,y,w-1-x,h-1-y)-h-w);
}//self-explanatory

function generate_spiral(w,h){
    //This function fills up an html table with a spiral that starts in the top left, and spirals clockwise inwards. The cells are numbered, starting at 0 and increasing by one for each cell traversed by the spiral.
    //────┐
    //┌──┐│
    //│┌┐││
    //│└─┘│
    //└───┘
    var output = "";
    for (var y=0; y< h; y++){ //Create a loop to cycle through the creation of each table row.
        output += "<tr>";
        for (var x=0; x< w; x++){ //Create a loop to cycle through each cell  within the current row.
            cell_value = find_cell_value(x,y,w,h); 
            //This is a  bit of trickery to make the spiral form a rainbow gradient:
            hueLevel =  cell_value % 360;
            output += "<td  style=\"background-color: hsl("+hueLevel.toString()+",100%,80%);\">";
            output +=  cell_value.toString();
            output += "</td>";
        }
        output += "</tr>";
    }
    document.getElementById("spiralTable").innerHTML = output;
}

function submit_form(form){
    if (form.checkValidity()){
        generate_spiral(form.width.value,form.height.value);
    } else {
        form.reportValidity();
    }
}

generate_spiral(10,10);

</script>

</body>
</html>
